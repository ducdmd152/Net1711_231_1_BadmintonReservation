@model BadmintonReservationData.DTOs.UpdateFrameRequestDTO

<div class="form-group row">
    <div class="col-md-6">
        <label for="Label">Label</label>
        @Html.EditorFor(model => model.Label, new { htmlAttributes = new { @class = "form-control", type= "text"} })
        @Html.ValidationMessageFor(model => model.Label, "", new { @class = "text-danger" })
    </div>
    <div class="col-md-6">
        <label for="Note">Note</label>
        @Html.EditorFor(model => model.Note, new { htmlAttributes = new { @class = "form-control", type= "text"} })
        @Html.ValidationMessageFor(model => model.Note, "", new { @class = "text-danger" })
    </div>
</div>
<div class="form-group row">
    <div class="col-md-6">
        <label for="1">Time From</label>
        @Html.EditorFor(model => model.TimeFrom, new { htmlAttributes = new { @class = "form-control", @type = "time" } })
        @Html.ValidationMessageFor(model => model.TimeFrom, "", new { @class = "text-danger" })
    </div>
    <div class="col-md-6">
        <label for="1">Time To</label>
        @Html.EditorFor(model => model.TimeTo, new { htmlAttributes = new { @class = "form-control", @type = "time" } })
        @Html.ValidationMessageFor(model => model.TimeTo, "", new { @class = "text-danger" })
    </div>
    @Html.EditorFor(model => model.OldTimeFrom, new { htmlAttributes = new { @class = "form-control", @type = "hidden" } })
    @Html.EditorFor(model => model.OldTimeTo, new { htmlAttributes = new { @class = "form-control", @type = "hidden" } })
    @Html.EditorFor(model => model.OldCourtId, new { htmlAttributes = new { @class = "form-control", @type = "hidden" } })
</div>
<div class="form-group row">
    <div class="col-md-6">
        <label for="1">Price</label>
        @Html.EditorFor(model => model.Price, new { htmlAttributes = new { @class = "form-control", @min = "0" } })
        @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
    </div>
    <div class="col-md-6">
        <label for="1">Status</label>
        @Html.DropDownListFor(model => model.Status, new SelectList(new[]
        {
            new { Value = 1, Text = "Active" },
            new { Value = 2, Text = "Inactive" },
        }, "Value", "Text"), new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.Status, "", new { @class = "text-danger" })
    </div>
</div>
<div class="form-group row">
    <div class="col-md-6">
        <label for="1">Court</label>
        <select id="CourtId" class="form-control"></select>
        @Html.ValidationMessageFor(model => model.CourtId, "", new { @class = "text-danger" })
    </div>
</div>
<script>
    $(document).ready(function() {
        getAllCourt(@Model.CourtId);
    });

    function getAllCourt(selectedCourtId) {
        $.ajax({
            url: '@Url.Action("GetAll", "Court")',
            type: "GET",
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {
                // Clear previous options
                $('#CourtId').empty();
                // Add each court as an option to the dropdown list
                $.each(result, function(key, item) {
                    $('#CourtId').append($('<option>', {
                        value: item.id,
                        text: item.name + ' | ' + item.amentities,
                        selected: item.id === selectedCourtId
                    }));
                });
            },
            error: function (xhr, error) {
                alert(xhr.statusText);
                alert('Something went wrong!');
            }
        });
    }
</script>
@{
    await Html.RenderPartialAsync("_ValidationScriptsPartial");
}
